{"version":3,"file":"ListFiltersActionSheet-CICp4Pdf.js","sources":["../../../../frontend/src/components/ListFiltersActionSheet.vue"],"sourcesContent":["<template>\n\t<!-- Filter Action Sheet -->\n\t<div\n\t\tclass=\"bg-white w-full flex flex-col items-center justify-center pb-5 max-h-[calc(100vh-5rem)]\"\n\t>\n\t\t<div class=\"w-full pt-8 pb-5 border-b text-center sticky top-0 z-[100]\">\n\t\t\t<span class=\"text-gray-900 font-bold text-lg\">Filters</span>\n\t\t</div>\n\n\t\t<div class=\"w-full p-4 overflow-auto\">\n\t\t\t<div class=\"flex flex-col gap-5 items-center justify-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"filter in filterConfig\"\n\t\t\t\t\t:key=\"filter.fieldname\"\n\t\t\t\t\tclass=\"flex flex-col w-full gap-1\"\n\t\t\t\t>\n\t\t\t\t\t<!-- Status filter -->\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex flex-col gap-1.5\"\n\t\t\t\t\t\tv-if=\"['status', 'approval_status'].includes(filter.fieldname)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"text-gray-800 font-semibold text-base\">\n\t\t\t\t\t\t\t{{ filter.label }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex flex-row gap-2 mt-2 flex-wrap\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tv-for=\"option in filter.options\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t@click=\"setStatusFilter(filter.fieldname, option)\"\n\t\t\t\t\t\t\t\tclass=\"text-sm text-gray-800\"\n\t\t\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t\t\toption === filters[filter.fieldname].value\n\t\t\t\t\t\t\t\t\t\t? '!border !border-gray-800 !text-gray-900 !bg-gray-50 !font-medium'\n\t\t\t\t\t\t\t\t\t\t: '!font-normal',\n\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ option }}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Field filters -->\n\t\t\t\t\t<div v-else class=\"flex flex-col gap-2\">\n\t\t\t\t\t\t<div class=\"text-gray-800 font-semibold text-base\">\n\t\t\t\t\t\t\t{{ filter.label }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex flex-row items-center gap-3\">\n\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\tv-if=\"filterConditionMap[filter.fieldtype]\"\n\t\t\t\t\t\t\t\tclass=\"mt-1 w-[75px]\"\n\t\t\t\t\t\t\t\t:options=\"filterConditionMap[filter.fieldtype]\"\n\t\t\t\t\t\t\t\tv-model=\"filters[filter.fieldname].condition\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\t\t\t\t:fieldtype=\"filter.fieldtype\"\n\t\t\t\t\t\t\t\t:fieldname=\"filter.fieldname\"\n\t\t\t\t\t\t\t\t:options=\"filter.options\"\n\t\t\t\t\t\t\t\tv-model=\"filters[filter.fieldname].value\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Filter Buttons -->\n\t\t<div\n\t\t\tclass=\"flex w-full flex-row items-center justify-between gap-3 sticky bottom-0 border-t p-4 z[100]\"\n\t\t>\n\t\t\t<Button\n\t\t\t\t@click=\"emit('clear-filters')\"\n\t\t\t\tvariant=\"outline\"\n\t\t\t\tclass=\"w-full py-5 text-sm\"\n\t\t\t>\n\t\t\t\tClear All\n\t\t\t</Button>\n\t\t\t<Button\n\t\t\t\t@click=\"emit('apply-filters')\"\n\t\t\t\tvariant=\"solid\"\n\t\t\t\tclass=\"w-full py-5 text-sm\"\n\t\t\t>\n\t\t\t\tApply Filters\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { computed } from \"vue\"\nimport FormField from \"@/components/FormField.vue\"\nimport { Autocomplete } from \"frappe-ui\"\n\nconst props = defineProps({\n\tfilterConfig: {\n\t\ttype: Array,\n\t\trequired: true,\n\t},\n\tfilters: {\n\t\ttype: Object,\n\t\trequired: true,\n\t},\n})\n\nconst emit = defineEmits([\"apply-filters\", \"clear-filters\", \"update:filters\"])\nconst numberOperators = [\n\t{ label: \"=\", value: \"=\" },\n\t{ label: \">\", value: \">\" },\n\t{ label: \"<\", value: \"<\" },\n\t{ label: \">=\", value: \">=\" },\n\t{ label: \"<=\", value: \"<=\" },\n]\n\nconst filterConditionMap = {\n\tDate: numberOperators,\n\tCurrency: numberOperators,\n}\n\nconst filters = computed({\n\tget() {\n\t\treturn props.filters\n\t},\n\tset(value) {\n\t\temit(\"update:filters\", value)\n\t},\n})\n\nfunction setStatusFilter(fieldname, value) {\n\tif (filters.value[fieldname].value === value) {\n\t\tfilters.value[fieldname].value = \"\"\n\t} else {\n\t\tfilters.value[fieldname].value = value\n\t}\n}\n</script>\n"],"names":["props","__props","emit","__emit","numberOperators","filterConditionMap","filters","computed","value","setStatusFilter","fieldname"],"mappings":"2mCA6FA,MAAMA,EAAQC,EAWRC,EAAOC,EACPC,EAAkB,CACvB,CAAE,MAAO,IAAK,MAAO,GAAK,EAC1B,CAAE,MAAO,IAAK,MAAO,GAAK,EAC1B,CAAE,MAAO,IAAK,MAAO,GAAK,EAC1B,CAAE,MAAO,KAAM,MAAO,IAAM,EAC5B,CAAE,MAAO,KAAM,MAAO,IAAM,CAC7B,EAEMC,EAAqB,CAC1B,KAAMD,EACN,SAAUA,CACX,EAEME,EAAUC,EAAS,CACxB,KAAM,CACL,OAAOP,EAAM,OACb,EACD,IAAIQ,EAAO,CACVN,EAAK,iBAAkBM,CAAK,CAC5B,CACF,CAAC,EAED,SAASC,EAAgBC,EAAWF,EAAO,CACtCF,EAAQ,MAAMI,CAAS,EAAE,QAAUF,EACtCF,EAAQ,MAAMI,CAAS,EAAE,MAAQ,GAEjCJ,EAAQ,MAAMI,CAAS,EAAE,MAAQF,CAEnC"}