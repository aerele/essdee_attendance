import{i as D,a as $,c as m,e as I,f as L,j as d,k as p,I as g,K as k,a5 as y,y as s,am as i,q as b,ac as F,a6 as M,l as N,ag as T}from"./frappe-ui-DZDZpt4w.js";import Y from"./Link-WtJjedfJ.js";const j={key:0,class:"flex flex-col gap-1.5"},O=["value","placeholder","disabled"],P={__name:"FormField",props:{field:String,fieldtype:String,fieldname:String,modelValue:[String,Number,Boolean,Array,Object],default:[String,Number,Boolean,Array,Object],label:String,options:[String,Array],linkFilters:Object,documentList:Array,readOnly:[Boolean,Number],reqd:[Boolean,Number],hidden:{type:[Boolean,Number],default:!1},errorMessage:String,minDate:String,maxDate:String,addSectionPadding:{type:Boolean,default:!0}},emits:["change","update:modelValue"],setup(u,{emit:S}){const e=u,t=S,V=D("$dayjs");let f=$(null);const c=m(()=>e.readOnly&&!C.value&&!e.modelValue?!1:e.fieldtype!=="Table"&&!e.hidden),v=m(()=>["Int","Float","Currency"].includes(e.fieldtype)),C=m(()=>["Section Break","Column Break"].includes(e.fieldtype)),n=m(()=>!!e.readOnly),B=m(()=>e.fieldtype==="Link"&&e.documentList?e.documentList:e.fieldtype=="Select"&&e.options?e.options.split(`
`).map(a=>({label:a,value:a})):[]);function x(){e.modelValue||(e.default?e.fieldtype==="Check"?t("update:modelValue",e.default==="1"):e.fieldtype==="Date"&&e.default==="Today"?t("update:modelValue",V().format("YYYY-MM-DD")):v.value?t("update:modelValue",parseFloat(e.default||0)):t("update:modelValue",e.default):e.fieldtype==="Check"?t("update:modelValue",!1):t("update:modelValue",""))}return I(()=>{x()}),(o,a)=>{const r=L("Input");return c.value?(d(),p("div",j,[["Check","Section Break","Column Break"].includes(e.fieldtype)?y("",!0):(d(),p("span",{key:0,class:g([e.reqd?"after:content-['_*'] after:text-red-600":"","block text-sm leading-5 text-gray-700"])},k(e.label),3)),e.fieldtype==="Select"||e.documentList?(d(),s(b(F),i({key:1,class:n.value?"pointer-events-none":"",placeholder:`Select ${e.label}`,options:B.value,modelValue:u.modelValue},o.$attrs,{disabled:n.value,"onUpdate:modelValue":a[0]||(a[0]=l=>t("update:modelValue",l==null?void 0:l.value))}),null,16,["class","placeholder","options","modelValue","disabled"])):e.fieldtype==="Link"?(d(),s(Y,{key:2,doctype:e.options,modelValue:u.modelValue,filters:e.linkFilters,disabled:n.value,"onUpdate:modelValue":a[1]||(a[1]=l=>t("update:modelValue",l))},null,8,["doctype","modelValue","filters","disabled"])):["Text Editor","Small Text","Text","Long Text"].includes(e.fieldtype)?(d(),s(r,i({key:3,type:"textarea",value:u.modelValue,placeholder:`Enter ${e.label}`,onInput:a[2]||(a[2]=l=>t("update:modelValue",l)),onChange:a[3]||(a[3]=l=>t("change",l))},o.$attrs,{disabled:n.value,class:"h-15"}),null,16,["value","placeholder","disabled"])):e.fieldtype==="Check"?(d(),s(r,i({key:4,type:"checkbox",label:e.label,value:u.modelValue,onInput:a[4]||(a[4]=l=>t("update:modelValue",l)),onChange:a[5]||(a[5]=l=>t("change",l))},o.$attrs,{disabled:n.value,class:"rounded-sm text-gray-800"}),null,16,["label","value","disabled"])):e.fieldtype==="Data"?(d(),s(r,i({key:5,type:"text",value:u.modelValue,onInput:a[6]||(a[6]=l=>t("update:modelValue",l)),onChange:a[7]||(a[7]=l=>t("change",l))},o.$attrs,{disabled:n.value}),null,16,["value","disabled"])):e.fieldtype==="Currency"&&n.value?(d(),s(r,i({key:6,type:"text",value:u.modelValue,onInput:a[8]||(a[8]=l=>t("update:modelValue",l)),onChange:a[9]||(a[9]=l=>t("change",l))},o.$attrs,{disabled:n.value}),null,16,["value","disabled"])):v.value?(d(),s(r,i({key:7,type:"number",value:u.modelValue,onInput:a[10]||(a[10]=l=>t("update:modelValue",l)),onChange:a[11]||(a[11]=l=>t("change",l))},o.$attrs,{disabled:n.value}),null,16,["value","disabled"])):e.fieldtype==="Section Break"?(d(),p("div",{key:8,class:g(e.addSectionPadding?"mt-2":"")},[e.label?(d(),p("h2",{key:0,class:g(["text-base font-semibold text-gray-800",e.addSectionPadding?"pt-4":""])},k(e.label),3)):y("",!0)],2)):e.fieldtype==="Date"?(d(),s(r,i({key:9,type:"date",modelValue:b(f),"onUpdate:modelValue":a[12]||(a[12]=l=>M(f)?f.value=l:f=l),value:u.modelValue,placeholder:`Select ${e.label}`,formatValue:l=>b(V)(l).format("DD-MM-YYYY"),onInput:a[13]||(a[13]=l=>t("update:modelValue",l)),onChange:a[14]||(a[14]=l=>t("change",l))},o.$attrs,{disabled:n.value,min:e.minDate,max:e.maxDate}),null,16,["modelValue","value","placeholder","formatValue","disabled","min","max"])):e.fieldtype==="Time"?(d(),p("input",i({key:10,class:"border-gray-400 placeholder-gray-500 form-input block w-full",type:"time",value:u.modelValue,placeholder:`Select ${e.label}`,onInput:a[15]||(a[15]=l=>t("update:modelValue",l.target.value)),onChange:a[16]||(a[16]=l=>t("change",l.target.value))},o.$attrs,{disabled:n.value}),null,16,O)):y("",!0),N(b(T),{message:e.errorMessage},null,8,["message"])])):y("",!0)}}};export{P as default};
//# sourceMappingURL=FormField-7rSNy-En.js.map
