{"version":3,"file":"claims-B88SfAug.js","sources":["../../../../frontend/src/data/claims.js"],"sourcesContent":["import { createResource } from \"frappe-ui\"\nimport { employeeResource } from \"./employee\"\nimport { reactive } from \"vue\"\n\nexport const expenseClaimSummary = createResource({\n\turl: \"essdee_attendance.api.get_expense_claim_summary\",\n\tparams: {\n\t\temployee: employeeResource.data.name,\n\t},\n\tauto: true,\n\tcache: \"hrms:expense_claim_summary\",\n})\n\nconst transformClaimData = (data) => {\n\treturn data.map((claim) => {\n\t\tclaim.doctype = \"Expense Claim\"\n\t\treturn claim\n\t})\n}\n\nexport const myClaims = createResource({\n\turl: \"essdee_attendance.api.get_expense_claims\",\n\tparams: {\n\t\temployee: employeeResource.data.name,\n\t\tlimit: 10,\n\t},\n\tauto: true,\n\tcache: \"hrms:my_claims\",\n\ttransform(data) {\n\t\treturn transformClaimData(data)\n\t},\n\tonSuccess() {\n\t\texpenseClaimSummary.reload()\n\t},\n})\n\nexport const teamClaims = createResource({\n\turl: \"essdee_attendance.api.get_expense_claims\",\n\tparams: {\n\t\temployee: employeeResource.data.name,\n\t\tapprover_id: employeeResource.data.user_id,\n\t\tfor_approval: 1,\n\t\tlimit: 10,\n\t},\n\tauto: true,\n\tcache: \"hrms:team_claims\",\n\ttransform(data) {\n\t\treturn transformClaimData(data)\n\t},\n})\n\nexport let claimTypesByID = reactive({})\n\nexport const claimTypesResource = createResource({\n\turl: \"essdee_attendance.api.get_expense_claim_types\",\n\tauto: true,\n\ttransform(data) {\n\t\treturn data.map((row) => {\n\t\t\tclaimTypesByID[row.name] = row\n\t\t\treturn row\n\t\t})\n\t},\n})\n"],"names":["expenseClaimSummary","createResource","employeeResource","transformClaimData","data","claim","myClaims","teamClaims","claimTypesByID","reactive","row"],"mappings":"2FAIY,MAACA,EAAsBC,EAAe,CACjD,IAAK,kDACL,OAAQ,CACP,SAAUC,EAAiB,KAAK,IAChC,EACD,KAAM,GACN,MAAO,4BACR,CAAC,EAEKC,EAAsBC,GACpBA,EAAK,IAAKC,IAChBA,EAAM,QAAU,gBACTA,EACP,EAGWC,EAAWL,EAAe,CACtC,IAAK,2CACL,OAAQ,CACP,SAAUC,EAAiB,KAAK,KAChC,MAAO,EACP,EACD,KAAM,GACN,MAAO,iBACP,UAAUE,EAAM,CACf,OAAOD,EAAmBC,CAAI,CAC9B,EACD,WAAY,CACXJ,EAAoB,OAAQ,CAC5B,CACF,CAAC,EAEYO,EAAaN,EAAe,CACxC,IAAK,2CACL,OAAQ,CACP,SAAUC,EAAiB,KAAK,KAChC,YAAaA,EAAiB,KAAK,QACnC,aAAc,EACd,MAAO,EACP,EACD,KAAM,GACN,MAAO,mBACP,UAAUE,EAAM,CACf,OAAOD,EAAmBC,CAAI,CAC9B,CACF,CAAC,EAES,IAACI,EAAiBC,EAAS,EAAE,EAELR,EAAe,CAChD,IAAK,gDACL,KAAM,GACN,UAAUG,EAAM,CACf,OAAOA,EAAK,IAAKM,IAChBF,EAAeE,EAAI,IAAI,EAAIA,EACpBA,EACP,CACD,CACF,CAAC"}