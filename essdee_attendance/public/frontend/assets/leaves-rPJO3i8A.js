import{O as m}from"./frappe-ui-DZDZpt4w.js";import{e as r,G as s}from"./index-BxNz1Obz.js";const o=e=>e.map(a=>(a.leave_dates=n(a),a.doctype="Leave Application",a)),n=e=>e.from_date==e.to_date?s(e.from_date).format("D MMM"):`${s(e.from_date).format("D MMM")} - ${s(e.to_date).format("D MMM")}`,d=m({url:"essdee_attendance.api.get_leave_applications",params:{employee:r.data.name,limit:10},auto:!0,cache:"hrms:my_leaves",transform(e){return o(e)},onSuccess(){c.reload()}}),u=m({url:"essdee_attendance.api.get_leave_applications",params:{employee:r.data.name,approver_id:r.data.user_id,for_approval:1,limit:10},auto:!0,cache:"hrms:team_leaves",transform(e){return o(e)}}),c=m({url:"essdee_attendance.api.get_leave_balance_map",params:{employee:r.data.name},auto:!0,cache:"hrms:leave_balance",transform:e=>Object.fromEntries(Object.entries(e).map(([a,t])=>(t.balance_percentage=t.balance_leaves/t.allocated_leaves*100,[a,t])))});export{n as g,c as l,d as m,u as t};
//# sourceMappingURL=leaves-rPJO3i8A.js.map
