{"version":3,"file":"notifications-B1BwxtuP.js","sources":["../../../../frontend/src/data/notifications.js"],"sourcesContent":["import { createResource, createListResource } from \"frappe-ui\"\nimport { userResource } from \"./user\"\n\nexport const unreadNotificationsCount = createResource({\n\turl: \"essdee_attendance.api.get_unread_notifications_count\",\n\tcache: \"hrms:unread_notifications_count\",\n\tinitialData: 0,\n\tauto: true,\n})\n\nexport const notifications = createListResource({\n\tdoctype: \"PWA Notification\",\n\tfilters: { to_user: userResource.data.name },\n\tfields: [\n\t\t\"name\",\n\t\t\"from_user\",\n\t\t\"message\",\n\t\t\"read\",\n\t\t\"creation\",\n\t\t\"reference_document_type\",\n\t\t\"reference_document_name\",\n\t],\n\tauto: true,\n\tcache: \"hrms:notifications\",\n\torderBy: \"creation desc\",\n\tonSuccess() {\n\t\tunreadNotificationsCount.reload()\n\t},\n})\n\nexport const arePushNotificationsEnabled = createResource({\n\turl: \"essdee_attendance.api.are_push_notifications_enabled\",\n\tcache: \"hrms:push_notifications_enabled\",\n\tauto: true,\n})\n"],"names":["unreadNotificationsCount","createResource","notifications","createListResource","userResource","arePushNotificationsEnabled"],"mappings":"4FAGY,MAACA,EAA2BC,EAAe,CACtD,IAAK,uDACL,MAAO,kCACP,YAAa,EACb,KAAM,EACP,CAAC,EAEYC,EAAgBC,EAAmB,CAC/C,QAAS,mBACT,QAAS,CAAE,QAASC,EAAa,KAAK,IAAM,EAC5C,OAAQ,CACP,OACA,YACA,UACA,OACA,WACA,0BACA,yBACA,EACD,KAAM,GACN,MAAO,qBACP,QAAS,gBACT,WAAY,CACXJ,EAAyB,OAAQ,CACjC,CACF,CAAC,EAEYK,EAA8BJ,EAAe,CACzD,IAAK,uDACL,MAAO,kCACP,KAAM,EACP,CAAC"}