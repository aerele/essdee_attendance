{"version":3,"file":"Holidays-EcR78AXv.js","sources":["../../../../frontend/src/components/Holidays.vue"],"sourcesContent":["<template>\n\t<div class=\"flex flex-col gap-5 w-full\">\n\t\t<div class=\"flex flex-row justify-between items-center\">\n\t\t\t<div class=\"text-lg text-gray-800 font-bold\">Upcoming Holidays</div>\n\t\t\t<div\n\t\t\t\tv-if=\"holidays?.data?.length\"\n\t\t\t\tid=\"open-holiday-list\"\n\t\t\t\tclass=\"text-sm text-gray-800 font-semibold cursor-pointer underline underline-offset-2\"\n\t\t\t>\n\t\t\t\tView All\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col bg-white rounded\" v-if=\"upcomingHolidays?.length\">\n\t\t\t<div\n\t\t\t\tclass=\"flex flex-row flex-start p-4 items-center justify-between border-b\"\n\t\t\t\tv-for=\"holiday in upcomingHolidays\"\n\t\t\t\t:key=\"holiday.holiday_date\"\n\t\t\t>\n\t\t\t\t<div class=\"flex flex-row items-center gap-3 grow\">\n\t\t\t\t\t<FeatherIcon name=\"calendar\" class=\"h-5 w-5 text-gray-500\" />\n\t\t\t\t\t<div class=\"text-base font-normal text-gray-800\">\n\t\t\t\t\t\t{{ holiday.description }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-base font-bold text-gray-800\">\n\t\t\t\t\t{{ holiday.formatted_holiday_date }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<EmptyState message=\"You have no upcoming holidays\" v-else />\n\t</div>\n\n\t<ion-modal\n\t\tref=\"modal\"\n\t\tv-if=\"holidays?.data?.length\"\n\t\ttrigger=\"open-holiday-list\"\n\t\t:initial-breakpoint=\"1\"\n\t\t:breakpoints=\"[0, 1]\"\n\t>\n\t\t<div class=\"bg-white w-full flex flex-col items-center justify-center pb-5\">\n\t\t\t<div class=\"w-full pt-8 pb-5 border-b text-center\">\n\t\t\t\t<span class=\"text-gray-900 font-bold text-lg\">Holiday List</span>\n\t\t\t</div>\n\t\t\t<div class=\"w-full flex flex-col items-center justify-center gap-5 p-4\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"holiday in holidays.data\"\n\t\t\t\t\t:key=\"holiday.holiday_date\"\n\t\t\t\t\tclass=\"flex flex-row items-center justify-between w-full\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex flex-row items-center gap-3 grow\">\n\t\t\t\t\t\t<FeatherIcon name=\"calendar\" class=\"h-5 w-5 text-gray-500\" />\n\t\t\t\t\t\t<div class=\"text-base font-normal text-gray-800\">\n\t\t\t\t\t\t\t{{ holiday.description }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t'text-base font-bold',\n\t\t\t\t\t\t\tholiday.is_upcoming ? 'text-gray-800' : 'text-gray-500',\n\t\t\t\t\t\t]\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ holiday.formatted_holiday_date }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</ion-modal>\n</template>\n\n<script setup>\nimport { inject, computed } from \"vue\"\nimport { IonModal } from \"@ionic/vue\"\nimport { FeatherIcon, createResource } from \"frappe-ui\"\n\nconst employee = inject(\"$employee\")\nconst dayjs = inject(\"$dayjs\")\n\nconst holidays = createResource({\n\turl: \"essdee_attendance.api.get_holidays_for_employee\",\n\tparams: {\n\t\temployee: employee.data.name,\n\t},\n\tauto: true,\n\ttransform: (data) => {\n\t\treturn data.map((holiday) => {\n\t\t\tconst holidayDate = dayjs(holiday.holiday_date)\n\t\t\tholiday.is_upcoming = holidayDate.isAfter(dayjs())\n\t\t\tholiday.formatted_holiday_date = holidayDate.format(\"ddd, D MMM YYYY\")\n\t\t\treturn holiday\n\t\t})\n\t},\n})\n\nconst upcomingHolidays = computed(() => {\n\tconst filteredHolidays = holidays.data?.filter(\n\t\t(holiday) => holiday.is_upcoming\n\t)\n\n\t// show only 5 upcoming holidays\n\treturn filteredHolidays?.slice(0, 5)\n})\n</script>\n"],"names":["employee","inject","dayjs","holidays","createResource","data","holiday","holidayDate","upcomingHolidays","computed","filteredHolidays","_a"],"mappings":"okCA4EA,MAAMA,EAAWC,EAAO,WAAW,EAC7BC,EAAQD,EAAO,QAAQ,EAEvBE,EAAWC,EAAe,CAC/B,IAAK,kDACL,OAAQ,CACP,SAAUJ,EAAS,KAAK,IACxB,EACD,KAAM,GACN,UAAYK,GACJA,EAAK,IAAKC,GAAY,CAC5B,MAAMC,EAAcL,EAAMI,EAAQ,YAAY,EAC9C,OAAAA,EAAQ,YAAcC,EAAY,QAAQL,EAAK,CAAE,EACjDI,EAAQ,uBAAyBC,EAAY,OAAO,iBAAiB,EAC9DD,CACV,CAAG,CAEH,CAAC,EAEKE,EAAmBC,EAAS,IAAM,OACvC,MAAMC,GAAmBC,EAAAR,EAAS,OAAT,YAAAQ,EAAe,OACtCL,GAAYA,EAAQ,aAItB,OAAOI,GAAA,YAAAA,EAAkB,MAAM,EAAG,EACnC,CAAC"}